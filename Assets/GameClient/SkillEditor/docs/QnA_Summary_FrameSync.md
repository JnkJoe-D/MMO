# 技能编辑器 QA 记录：帧同步与精度专题

本文档总结了关于“编辑器精度优化”与“运行时帧同步”之间关系的深入讨论。

## 1. 精度优化与帧同步的关系

**Q: "1. 精度与时间控制优化 (UI层)" 和 "6. 逻辑一致性与帧同步 (逻辑层)" 有什么关系？**

**A:**
两者是 **"数据输入 (Input)"** 与 **"逻辑执行 (Execution)"** 的关系。必须配套实施才能达到“所见即所得”。

*   **只做逻辑层 (帧同步)**: 编辑器允许配置在非整数帧位置 (如 0.040s)，但游戏只在整帧 (0.033s, 0.066s) 判定。会导致配置位置与实际生效时机不一致（所见非所得）。
*   **只做UI层 (帧吸附)**: 编辑器强制吸附在 0.033s，但运行时若无蓄水池算法，卡顿会导致跳过判定。
*   **结论**: **配套实施**。编辑器选中的“第3帧”，必须对应游戏逻辑的“第3次Tick”。

---

## 2. 帧率设置一致性与自由模式数据

**Q: 编辑器设置了 60fps，运行时逻辑帧也要设成 60fps 吗？自由模式保存的数据能用于帧同步吗？**

**A:**

*   **帧率一致性**: **强烈建议一致**。
    *   如果编辑器是 60fps (0.016s) 而运行时是 30fps (0.033s)，你在编辑器第 1 帧 (0.016s) 配置的攻击，在游戏中会被推迟到 0.033s 才执行，导致手感延迟 (Laggy)。
*   **自由模式数据**: **可以用，但有隐患**。
    *   自由模式产生的浮点数 (如 0.033001s) 在临界点容易产生不确定性（有的机器算作当前帧，有的算作下一帧）。
    *   **解决方案**: 在数据加载阶段 (Load Phase) 进行 **"量化 (Quantization)"**，将所有时间四舍五入到最近的逻辑帧。

---

## 3. 游戏画质设置与配置文件

**Q: 常见的游戏设置 (30fps/60fps) 指的是渲染帧还是逻辑帧？需要多份配置文件吗？**

**A:**

*   **设置含义**: 指的是 **渲染帧 (Render Frame)**。
    *   主要影响画面的流畅度 (Visual Smoothness)。
    *   **逻辑帧 (Logic Frame)** 通常是写死常量的 (如 0.033s)，对玩家不可见，保证核心判定的绝对一致性。
*   **配置文件**: **不需要多份**。
    *   只需要一份基于逻辑帧率 (如 30fps) 制作的标准配置。
    *   **插值 (Interpolation)**: 高帧率渲染时，表现层会在两个逻辑帧位置之间进行插值 (`Lerp`)。
    *   **效果**: 逻辑虽然只跑了 30 步，但 60fps/144fps 的玩家能看到丝滑的过渡动画，且判定结果与低配手机完全一致。
