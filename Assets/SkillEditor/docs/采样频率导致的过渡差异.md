# 采样频率导致的过渡差异

> 之前想了那么就为什么过渡时动作会异常，没想到居然是片段长度与过渡blendin的问题。因为2个动画都是挥剑后还有一个后摇恢复到持剑待机的动作，当我把它们的片段长度匹配到animationclip的长度时，再去融合，虽然在编辑器预览时没什么异常，但是一到运行时就能看出动作异常。目前解决办法就是把重叠部分及第一个片段的blendout第二个片段的blendin调大一点，那么运行时就会很正常。那么之前为什么没有发现呢，归根到底是预览播放和运行时播放还是存在差异，比如当前运行时比较合适clip2的blendin是2.3，而预览时则是1.4，虽然感觉数值也都有点太大了，但也能看出二者的差异。

- 编辑器预览播放和运行时播放的采样频率不同，即预览时权重的更新频率与技能逻辑的更新频率同步，而运行时权重的更新频率则是单独同步于MonoUpdate。显然逻辑帧率通常会比MonoUpdate更低，导致了前者会渲染更少的帧。
- 即：预览模式因为帧率或采样机制的不同，**跳过了那个出错的瞬间**，而运行时（通常帧率更高且连续）则忠实地渲染了那个糟糕的混合帧。
- **现象**：假设在混合权重的 0.48~0.52 区间内（即两个动作冲突最剧烈的时刻），角色的姿势会发生扭曲。
- **结果**：运行时这一帧被渲染出来，您看到了“抽搐”。而预览模式恰好从 0.46 跳到了 0.54，直接**跳过了这一帧糟糕的姿势**，看起来就无比顺滑。